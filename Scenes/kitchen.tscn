[gd_scene load_steps=18 format=3 uid="uid://bao4vfkn1220f"]

[ext_resource type="PackedScene" uid="uid://bb8352e6gs57s" path="res://Scenes/player.tscn" id="1_7u47w"]
[ext_resource type="PackedScene" uid="uid://carev1j0wq462" path="res://Scenes/plantingarea.tscn" id="2_2cl3g"]
[ext_resource type="PackedScene" uid="uid://6w0kmgtxep2k" path="res://Scenes/tech_station.tscn" id="2_23qos"]
[ext_resource type="PackedScene" uid="uid://cfq0pmgds2msb" path="res://Scenes/carrot_seed.tscn" id="3_4clir"]
[ext_resource type="PackedScene" uid="uid://dwkewfyblil05" path="res://Scenes/refinery.tscn" id="4_6pjjr"]
[ext_resource type="PackedScene" uid="uid://cgdkkcmn6w585" path="res://Scenes/item_collection.tscn" id="5_jbuf1"]
[ext_resource type="PackedScene" uid="uid://24fa22jdgssc" path="res://Scenes/conveyor_belt.tscn" id="5_pb1w8"]
[ext_resource type="PackedScene" uid="uid://bm35noykekl47" path="res://Scenes/crafter.tscn" id="6_jbuf1"]
[ext_resource type="PackedScene" uid="uid://d145t385yqba6" path="res://Scenes/upgrade_menu.tscn" id="7_cetdd"]
[ext_resource type="PackedScene" uid="uid://pnyu6ositnse" path="res://Scenes/chopper.tscn" id="8_o8uib"]
[ext_resource type="PackedScene" uid="uid://80sxp4aemelr" path="res://Scenes/carrot.tscn" id="9_kr0tx"]
[ext_resource type="PackedScene" uid="uid://brkocdc24hca4" path="res://Scenes/oven.tscn" id="12_t5hpn"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_pfa8w"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_pfa8w"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_7u47w"]
sky_material = SubResource("ProceduralSkyMaterial_pfa8w")

[sub_resource type="Environment" id="Environment_23qos"]
background_mode = 2
sky = SubResource("Sky_7u47w")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_kr0tx"]
data = PackedVector3Array(-14, 11, 11.5, -15, 11, 12.5, -14, 11, -11.5, -15, 0, 12.5, 15, 0, -12.5, -15, 0, -12.5, 15, 0, -12.5, -15, 11, -12.5, -15, 0, -12.5, -15, 3.5, -11.5, -15, 11, -12.5, -15, 3.5, -9.5, 15, 11, 12.5, 15, 0, 12.5, -15, 0, 12.5, -14, 11, -11.5, -15, 11, 12.5, -15, 11, -12.5, -15, 0, 12.5, 15, 0, 12.5, 15, 0, -12.5, -14, 11, -11.5, -15, 11, -12.5, 14, 11, -11.5, -15, 11, -12.5, -15, 11, 12.5, -15, 0, 12.5, 15, 3.5, -9.5, 15, 0, 12.5, 15, 11, 12.5, -15, 11, 12.5, 15, 11, 12.5, -15, 0, 12.5, -15, 11, 12.5, -14, 11, 11.5, 15, 11, 12.5, 15, 0.5, -11.5, 15, 3.5, -11.5, 15, 11, -12.5, 15, 0.5, -11.5, 15, 11, -12.5, 15, 0, -12.5, 15, 0.5, -11.5, 15, 0, -12.5, 15, 0.5, -9.5, 15, 0.5, -9.5, 15, 0, 12.5, 15, 3.5, -9.5, 15, 0, 12.5, 15, 0.5, -9.5, 15, 0, -12.5, -15, 3.5, -9.5, -15, 0, 12.5, -15, 0.5, -9.5, 14, 11, 11.5, 15, 11, -12.5, 15, 11, 12.5, -15, 0, -12.5, -15, 3.5, -11.5, -15, 0.5, -11.5, 14, 11, 11.5, 15, 11, 12.5, -14, 11, 11.5, 14, 11, -11.5, 15, 11, -12.5, 14, 11, 11.5, 15, 11, -12.5, 15, 3.5, -9.5, 15, 11, 12.5, -15, 0.5, -11.5, -15, 0, 12.5, -15, 0, -12.5, -15, 0.5, -9.5, -15, 0, 12.5, -15, 0.5, -11.5, 15, 11, -12.5, 15, 3.5, -11.5, 15, 3.5, -9.5, -15, 11, -12.5, -15, 3.5, -11.5, -15, 0, -12.5, -15, 3.5, -9.5, -15, 11, -12.5, -15, 0, 12.5, 15, 11, -12.5, 14, 11, -11.5, -15, 11, -12.5, 15, 0, -12.5, 15, 11, -12.5, -15, 11, -12.5, 14, 3.5, -9.5, 14, 3.5, -11.5, 14, 11, 11.5, 14, 11, -11.5, 14, 11, 11.5, 14, 3.5, -11.5, 14, 11, -11.5, 14, 3.5, -11.5, -14, 3.5, -11.5, 14, 0.5, -9.5, 14, 0.5, 11.5, -14, 0.5, 11.5, 14, 11, 11.5, 14, 0.5, 11.5, 14, 3.5, -9.5, -14, 11, 11.5, 14, 0.5, 11.5, 14, 11, 11.5, 14, 3.5, -9.5, 14, 0.5, 11.5, 14, 0.5, -9.5, 14, 3.5, -11.5, 14, 0.5, -11.5, -14, 3.5, -11.5, -14, 11, -11.5, -14, 3.5, -9.5, -14, 0.5, 11.5, -14, 0.5, -11.5, 14, 0.5, -11.5, -14, 0.5, -9.5, -14, 0.5, -11.5, -14, 3.5, -11.5, 14, 0.5, -11.5, -14, 0.5, -9.5, 14, 0.5, -11.5, -14, 0.5, 11.5, -14, 11, 11.5, -14, 0.5, 11.5, 14, 0.5, 11.5, 14, 0.5, -11.5, 14, 0.5, -9.5, -14, 0.5, 11.5, -14, 0.5, -9.5, -14, 0.5, 11.5, -14, 3.5, -9.5, -14, 11, -11.5, -14, 3.5, -11.5, -14, 3.5, -9.5, 14, 11, -11.5, -14, 3.5, -11.5, -14, 11, -11.5, -14, 0.5, 11.5, -14, 11, 11.5, -14, 11, -11.5, -14, 3.5, -9.5, -14, 3.5, -11.5, -15, 3.5, -9.5, -14, 0.5, -11.5, -14, 0.5, -9.5, -15, 0.5, -11.5, -15, 3.5, -11.5, -15, 3.5, -9.5, -14, 3.5, -11.5, -15, 3.5, -9.5, -15, 0.5, -9.5, -14, 3.5, -9.5, -14, 3.5, -11.5, -14, 0.5, -11.5, -15, 3.5, -11.5, -14, 0.5, -9.5, -14, 3.5, -9.5, -15, 0.5, -9.5, -15, 0.5, -11.5, -15, 3.5, -11.5, -14, 0.5, -11.5, 15, 3.5, -9.5, 14, 0.5, -9.5, 15, 0.5, -9.5, -15, 0.5, -9.5, -15, 0.5, -11.5, -14, 0.5, -9.5, 15, 3.5, -9.5, 15, 3.5, -11.5, 14, 3.5, -9.5, 14, 3.5, -11.5, 14, 3.5, -9.5, 15, 3.5, -11.5, 15, 0.5, -9.5, 14, 0.5, -9.5, 14, 0.5, -11.5, 15, 0.5, -9.5, 14, 0.5, -11.5, 15, 0.5, -11.5, 14, 0.5, -11.5, 14, 3.5, -11.5, 15, 0.5, -11.5, 15, 3.5, -9.5, 14, 3.5, -9.5, 14, 0.5, -9.5, 15, 3.5, -11.5, 15, 0.5, -11.5, 14, 3.5, -11.5)
backface_collision = true

[node name="Kitchen" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, -4.37114e-08, -4.37114e-08, 2.98023e-08, 1, 8.74228e-08, 1, 0, 0, 21, 12)
light_energy = 0.3
shadow_enabled = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]
process_physics_priority = 1
layer = -1

[node name="SubViewportContainer" type="SubViewportContainer" parent="CanvasLayer"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true
mouse_target = true

[node name="SubViewport" type="SubViewport" parent="CanvasLayer/SubViewportContainer"]
handle_input_locally = false
physics_object_picking = true
size = Vector2i(1152, 648)
size_2d_override = Vector2i(1152, 648)
size_2d_override_stretch = true
render_target_update_mode = 0

[node name="UpgradeMenu" parent="CanvasLayer/SubViewportContainer/SubViewport" instance=ExtResource("7_cetdd")]

[node name="CanvasLayer" type="CanvasLayer" parent="CanvasLayer/SubViewportContainer/SubViewport"]
layer = 2

[node name="Button" type="Button" parent="CanvasLayer/SubViewportContainer/SubViewport/CanvasLayer"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -52.0
offset_top = 19.0
offset_right = -17.0
offset_bottom = 50.0
grow_horizontal = 0
text = "  X  "

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.573576, 0.819152, 0, -0.819152, 0.573576, 0, 14.799, 10)
attributes = SubResource("CameraAttributesPractical_pfa8w")
current = true
fov = 68.6
size = 10.0
near = 0.006

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_23qos")

[node name="Room" type="StaticBody3D" parent="."]

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="Room"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.5)
visible = false
operation = 1

[node name="CSGBox3D" type="CSGBox3D" parent="Room/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.5, 0)
size = Vector3(30, 11, 25)

[node name="CSGBox3D2" type="CSGBox3D" parent="Room/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.5, 0)
operation = 2
size = Vector3(28, 12, 23)

[node name="CSGBox3D3" type="CSGBox3D" parent="Room/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.105957, 2, -10.5)
operation = 2
size = Vector3(33.2119, 3, 2)

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="Room"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.5)
shape = SubResource("ConcavePolygonShape3D_kr0tx")

[node name="PlantingArea" parent="Room" instance=ExtResource("2_2cl3g")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.56515, 1, 7.54631)

[node name="CarrotSeed" parent="Room" instance=ExtResource("3_4clir")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.22554, 2.78705, -0.986999)

[node name="Player" parent="." instance=ExtResource("1_7u47w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.04003, 2, 0.995445)

[node name="TechStation" parent="." instance=ExtResource("2_23qos")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0.5, -4)
collision_layer = 3
station_name = "Tech Station"

[node name="ConveyorBelt" parent="." instance=ExtResource("5_pb1w8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 1, -12)

[node name="Refinery" parent="." instance=ExtResource("4_6pjjr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.60372, 1, -3.99866)

[node name="ItemCollection" parent="." instance=ExtResource("5_jbuf1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.51748, 1, -0.519311)
collision_layer = 1

[node name="Crafter" parent="." instance=ExtResource("6_jbuf1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.15546, 1, 3.01919)

[node name="Chopper" parent="." instance=ExtResource("8_o8uib")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.43319, 0.84512, -8.67311)

[node name="Carrot" parent="." instance=ExtResource("9_kr0tx")]
transform = Transform3D(1.00451, 0, 0, 0, 1.00451, 0, 0, 0, 1.00451, 2.34921, 3.58293, -0.00973348)

[node name="Carrot3" parent="." instance=ExtResource("9_kr0tx")]
transform = Transform3D(1.0015, 0, 0, 0, 1.0015, 0, 0, 0, 1.0015, 1.22401, 2.11982, -0.00323963)

[node name="Carrot2" parent="." instance=ExtResource("9_kr0tx")]
transform = Transform3D(1.003, 0, 0, 0, 1.003, 0, 0, 0, 1.003, -0.0459278, 3.04717, -0.00648412)

[node name="Oven" parent="." instance=ExtResource("12_t5hpn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.365474, 1, -6.51763)

[connection signal="pressed" from="CanvasLayer/SubViewportContainer/SubViewport/CanvasLayer/Button" to="Player" method="_on_button_pressed"]
[connection signal="interacted" from="TechStation" to="TechStation" method="_on_tech_station_interacted"]
